$(document).ready(function(){function a(){$("h2").empty(),$(".pronounce").empty(),$("#sound").attr("src",""),$(".playSound").attr("style","display: hidden"),$(".columns").hide(),$(".left").empty().append("<h3>Definitions</h3>").hide(),$(".center").empty().append("<h3>Related Words</h3>").hide(),$(".right").empty().append("<h3>Examples</h3>").hide(),s=0}function n(a){var t=a.replace(a[0],a.charAt(0).toLowerCase()),e=a.replace(a[0],a.charAt(0).toUpperCase());$.ajax("http://api.wordnik.com/v4/word.json/"+a+"/definitions",{data:{word:a,limit:10,includeRelated:!0,useCanonical:!1,includeTags:!1,api_key:"dd938175caa9ac3a0a32c09fcc607d8638f0a0e82c8a0bbad"},success:function(a){void 0===a[0]&&0===s?(s++,n(e)):void 0===a[0]?$("h2").text("Sorry, can't find "+t+" or "+e):($("h2").text(a[0].word),$.each(a,function(a,n){$(".left").append('<span title="'+n.attributionText+'" class="def">'+n.text+"</span>"),d()}))}})}function t(a){$.ajax("http://api.wordnik.com/v4/word.json/"+a+"/pronunciations",{data:{word:a,api_key:"dd938175caa9ac3a0a32c09fcc607d8638f0a0e82c8a0bbad"},success:function(a){var n=a[0];$(".pronounce").html(n.raw)}})}function e(){$("#sound")[0].volume=.9,$("#sound")[0].load(),$("#sound")[0].play()}function o(a){$.ajax("http://api.wordnik.com/v4/word.json/"+a+"/relatedWords",{data:{word:a,limit:200,api_key:"dd938175caa9ac3a0a32c09fcc607d8638f0a0e82c8a0bbad"},success:function(a){$.each(a,function(a,n){var t=n.relationshipType;$(".center").append("<h4>"+t+"</h4>"),$.each(n.words,function(a,n){$(".center").append("<span>"+n+"</span>")})})}})}function c(a){$.ajax("http://api.wordnik.com/v4/word.json/"+a+"/examples",{data:{word:a,limit:10,api_key:"dd938175caa9ac3a0a32c09fcc607d8638f0a0e82c8a0bbad"},success:function(a){$.each(a.examples,function(a,n){$(".right").append("<span>"+n.text+"</span>"),$(".right").append('<span class="exSrc">-<strong>'+n.provider.name+"</strong>, <em>"+n.title+"</em>, "+n.year+"</span>")})}})}function i(a){$.ajax("http://api.wordnik.com/v4/word.json/"+a+"/audio",{data:{word:a,limit:3,api_key:"dd938175caa9ac3a0a32c09fcc607d8638f0a0e82c8a0bbad"},success:function(a){var n=a[0];void 0!==n&&($("#sound").attr("src",a[0].fileUrl),$(".playSound").attr("style","display: inline-block")),e()}})}function d(){setTimeout(function(){$(".columns").show()},1500),setTimeout(function(){$(".left").slideDown(400),$(".center").slideDown(800),$(".right").slideDown(1200)},2500)}function r(e){a(),o(e),n(e),t(e),c(e),i(e)}var s=0;$("form").submit(function(a){a.preventDefault();var n=$("#search").val().trim().toLowerCase();r(n),$("#search").val("")}),$(".center").on("click","span",function(){var a=$(this).text();r(a)}),$(".container").on("click",".playSound",e),$(document).on("keydown",function(a){13===a.which&&(a.stopPropagation(),a.preventDefault(),$("form").submit())})});